{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container-fluid">
    <div class="row justify-content-md-center">
        <div class="col text-center">
            {% if request.user.is_authenticated %}
            <h3>{{ request.user }}'s recipes</h3>
            {% endif %}
        </div>
    </div>

    <div class="row">
        <div class="col text-center search-bar">
            <form method="GET" action="" class="recipe-search">
                <input type="text" name="search-area" class="btn btn-outline-secondary btn-sm" value="{{search_input}}" required=true>
                <input type="submit" class="btn btn-outline-secondary btn-sm" value="Search">
                <a href="{% url 'myrecipes' %}" class="btn btn-outline-secondary btn-sm" type="submit">&#x2715</a>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col text-center btn-add">
            <a class="btn btn-lg btn-success" href="{% url 'recipecreate' %}">Add a Recipe</a>
        </div>
    </div>

    <div class="row">
        <div class="card">
            <div class="col">

                <table class="table">
                    <!-- <tr>
                <th>Recipe</th>
            </tr> -->
                    {% for recipe in recipe %}
                    <tr>
                        <td>{{ recipe.title }}</td>
                        <td><a href="{% url 'recipe_detail' recipe.slug %}">View</a></td>
                        <td><a href="{% url 'recipeedit' recipe.slug %}">Edit</a></td>
                        <td><a href="{% url 'recipedelete' recipe.slug %}">Delete</a></td>
                    </tr>
                    {% empty %}
                    <h3>No recipes to view</h3>
                    {% endfor %}
                </table>

            </div>
        </div>
    </div>
</div>
{% endblock %}