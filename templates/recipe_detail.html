{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col ">
            {% if "placeholder" in recipe.recipe_image.url %}
            <img class="card-img-top"
                src="https://res.cloudinary.com/ddaqqsr3r/image/upload/v1632902970/pexels-ella-olsson-1640777_sketq6.jpg"
                alt="">
            {% else %}<img src="{{ recipe.image }}" alt="">
            {% endif %}</div>
        <div class="col">
            <h1>{{recipe.title}}</h1>
            <div>
                <i class="far fa-star"
                        aria-hidden="true"></i> {{ recipe.number_of_favourites }}
            </div>
            <div>
                {% with reviews.count as total_reviews %}
                <i class="far fa-comments" aria-hidden="true"></i> {{ total_reviews }}
                {% endwith %}
            </div>
        </div>
    </div>

<div class="container">
    <div class="row">
        <div class="col">
            <p class="recipe-intro">
                {{ recipe.introduction |safe }} 
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="col recipe-ingred">{{recipe.ingredients | safe}}</div>
        </div>
        <div class="col">
            <div class="col recipe-steps">{{recipe.steps | safe}}</div>
        </div>
    </div>
</div>


    <div class="row">
        <div class="col card mb-4 mt-3">
            <h3>Reviews:</h3>
            <div class="card-body">
                {% for review in reviews %}
                <div class="reviews">
                    <p>
                        <span>{{ review.created_on }}</span>
                        <span> {{ review.name }} wrote: </span>
                    </p>
                    {{ review.body | linebreaks }}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>




</div>

{% endblock %}